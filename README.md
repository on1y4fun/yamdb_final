![test workflow](https://github.com/on1y4fun/yamdb_final/actions/workflows/yamdb_workflow.yml/badge.svg)

# Проект YaMDb

Сервис YaMDb — база отзывов о фильмах, книгах и музыке.

Это совместный проект и настоящая командная работа трёх студентов на Яндекс.Практикум

## Описание проекта

API для сервиса YaMDb.

**Отзывы**: получить список всех отзывов, создать новый отзыв, получить отзыв по id, частично обновить отзыв по id, удалить отзыв по id.

**Комментарии к отзывам**: получить список всех комментариев к отзыву по id, создать новый комментарий для отзыва, получить комментарий для отзыва по id, частично обновить комментарий к отзыву по id, удалить комментарий к отзыву по id.

**JWT-токен**: отправить confirmation_code на переданный email, получение JWT-токена в обмен на email и confirmation_code.

**Пользователи**: получить список всех пользователей, создание пользователя, получить пользователя по username, изменить данные пользователя по username, удалить пользователя по username, получить данные своей учетной записи, изменить данные своей учетной записи.

**Категории (типы) произведений**: получить список всех категорий, создать категорию, удалить категорию.

**Категории жанров**: получить список всех жанров, создать жанр, удалить жанр.

**Произведения, к которым пишут отзывы**: получить список всех объектов, создать произведение для отзывов, информация об объекте, обновить информацию об объекте, удалить произведение.

## Как запустить проект

Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/on1y4fun/infra_sp2.git

cd infra_sp2/infra/

```
Запуск приложения в контейнерах:

```
docker-compose up -d --build
```
Выполняем миграции:

```
docker-compose exec web python manage.py migrate
```
Создаем суперпользователя:

```
docker-compose exec web python manage.py createsuperuser
```
Собираем статику:

```
docker-compose exec web python manage.py collectstatic --no-input
```
Команда на заполнение базы данных из файла бэкапа:

```
docker-compose exec web python manage.py loaddata fixtures.json
```
Команды на заполнение базы данных из файлов csv:

```
docker-compose exec web python manage.py csv_to_postgresql --import users
                                                                    category
                                                                    genre
                                                                    title
                                                                    review
                                                                    comment
```


## Авторы

[Максим Чен](https://github.com/on1y4fun) - настройка докера, категории (Categories), жанры (Genres) и произведения (Titles): модели, view и эндпойнты для них.

[Татьяна Селюк](https://github.com/whodef) - управление пользователями (Auth и Users): система регистрации и аутентификации, права доступа, работа с токеном, система подтверждения e-mail, поля.

[Сергей Волков](https://github.com/Svolkov-nsk) - отзывы (Review) и комментарии (Comments): модели и view, эндпойнты, права доступа для запросов. Рейтинги произведений.


### Лицензия [MIT](https://opensource.org/licenses/MIT)
